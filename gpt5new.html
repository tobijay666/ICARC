<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPT-5 Interface</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://js.puter.com/v2/"></script>
    <style>
        body { background-color: #f0f2f5; height: 100vh; display: flex; flex-direction: column; }
        .chat-container { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; }
        .message-bubble { max-width: 80%; padding: 12px 16px; border-radius: 15px; position: relative; }
        .user-msg { align-self: flex-end; background-color: #0d6efd; color: white; border-bottom-right-radius: 2px; }
        .ai-msg { align-self: flex-start; background-color: white; color: #333; border: 1px solid #ddd; border-bottom-left-radius: 2px; box-shadow: 0 1px 2px rgba(0,0,0,0.1); }
        .input-area { background: white; padding: 20px; border-top: 1px solid #ddd; }
    </style>
</head>
<body>

    <!-- Header / Model Switcher -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid justify-content-center">
            <div class="btn-group" role="group">
                <!-- Current Page (Disabled button style) -->
                <button type="button" class="btn btn-primary active" disabled>GPT-5 (Preview)</button>
                <!-- Link to Other Page -->
                <a href="claude.html" class="btn btn-outline-light">Switch to Claude 3.5</a>
            </div>
        </div>
    </nav>

    <!-- Chat Area -->
    <div id="chat-box" class="chat-container">
        <div class="text-center text-muted mt-5">
            <h4>GPT-5 (Simulated via GPT-4o)</h4>
            <p>Ready to help. Ask me anything.</p>
        </div>
    </div>

    <!-- Input Area -->
    <div class="input-area">
        <div class="container">
            <div class="input-group">
                <input type="text" id="user-input" class="form-control" placeholder="Type your message..." onkeypress="handleEnter(event)">
                <button class="btn btn-primary" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script>
        // CONFIGURATION: Using GPT-4o to act as GPT-5
        const MODEL_ID = 'gpt-4o';

        const chatBox = document.getElementById('chat-box');
        const userInput = document.getElementById('user-input');

        async function sendMessage() {
            const text = userInput.value.trim();
            if (!text) return;

            // Clear welcome message if it's the first chat
            if(chatBox.innerHTML.includes('text-center')) chatBox.innerHTML = '';

            // 1. Add User Message
            addBubble(text, 'user-msg');
            userInput.value = '';

            // 2. Add Loading Bubble
            const loadingId = addBubble('Generating response...', 'ai-msg');

            // 3. Call Puter AI
            try {
                const response = await puter.ai.chat(text, { model: MODEL_ID });
                document.getElementById(loadingId).innerText = response;
            } catch (err) {
                document.getElementById(loadingId).innerText = "Error: " + err;
            }
        }

        function addBubble(text, className) {
            const div = document.createElement('div');
            const id = 'msg-' + Math.random().toString(36).substr(2, 9);
            div.id = id;
            div.className = `message-bubble ${className}`;
            div.innerText = text;
            chatBox.appendChild(div);
            chatBox.scrollTop = chatBox.scrollHeight;
            return id;
        }

        function handleEnter(e) {
            if (e.key === 'Enter') sendMessage();
        }
    </script>
</body>
</html>